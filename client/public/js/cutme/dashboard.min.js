var v_hairstyle = 1

function initHairstyleType(type) {
  v_hairstyle = type
  var dashboard = $("section.dashboard-content")
  if(v_hairstyle == 1) dashboard.removeClass("woman").addClass("man")
  else dashboard.removeClass("man").addClass("woman")
  initHairstyle()
}

function initHairstyle(){
  $.get({
    url:`http://localhost:8080/api/styles/${v_hairstyle}`,
    success:function(result){
      var hairstyle = $("#hairstyle-list")
      hairstyle.trigger('destroy.owl.carousel').removeClass('owl-carousel owl-loaded')
      hairstyle.find('.owl-stage-outer').children().unwrap()
      hairstyle.find('.item').remove()
      for(var idx = 0; idx < result.length; idx++){
        var html = `<li class="item"><div class="thumbnail"><img src="${result[idx].file}"><div class="caption"><div class="title row"><div class="col-xs-12"><h4>${result[idx].name}</h4></div></div><div class="action row"><div class="col-xs-6"><ul class="info"><li><i class="fa fa-star" aria-hidden="true"></i>${result[idx].rating}</li><li>Rp. ${result[idx].price},-</li></ul></div><div class="col-xs-6 text-right"><a href="#" class="btn btn-cutme" role="button">Choose</a></div></div></div></div></li>`
        hairstyle.append(html)
      }
      initCarousel(hairstyle)
    }
  })
}

$(function(){
  initHairstyleType(1)
})
